__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});class t extends a(d[2]).PureComponent{constructor(...t){super(...t),this.state={commentToDeleteId:null,showDeleteCommentModal:!1},this.$PostComments1=(t=>{this.setState({commentToDeleteId:t,showDeleteCommentModal:!0})}),this.$PostComments2=(()=>{this.setState({commentToDeleteId:null,showDeleteCommentModal:!1})})}$PostComments3(){const{caption:t,showIGTVCaption:o,title:n}=this.props;return o?[n,t].filter(Boolean).join('\n\n'):t}$PostComments4(){return this.props.variant!==r(d[0]).VARIANTS.feed&&!r(d[1]).isMobile()}render(){const{analyticsContext:t,captionCreatedAt:o,captionIsEdited:n,className:s,code:l,commentingDisabledForViewer:c,commentsAreStacked:C,commentsDisabled:p,customIndentationPadding:h,customPaddingStyle:I,hasRankedComments:u,hideUserAvatar:w,id:v,mediaType:P,onLikeCountClick:A,onLikeModalClose:k,ownerId:D,permalinkedCommentId:T,permalinkedReplyId:y,postedAt:M,reducedAvatarMargin:R,showCommentOptionsInline:V,showIGTVCaption:$,showRemoveCommentIcons:b,variant:f,viewerId:S}=this.props,E=null!=S;return a(d[2]).createElement(a(d[2]).Fragment,null,this.$PostComments4()?a(d[2]).createElement(i(d[3]),{analyticsContext:t,captionAndTitle:this.$PostComments3(),captionCreatedAt:o,captionIsEdited:n,className:s,code:l,commentingDisabledForViewer:c,commentsDisabled:p,customIndentationPadding:h,customPaddingStyle:I,handleDeleteCommentClick:this.$PostComments1,hasRankedComments:u,hideUserAvatar:!!w,id:v,isDeletingComments:b,loggedIn:E,mediaType:P,onLikeCountClick:A,onLikeModalClose:k,ownerId:D,permalinkedCommentId:T,permalinkedReplyId:y,postedAt:M,reducedAvatarMargin:R,showCommentOptionsInline:V,showIGTVCaption:$}):a(d[2]).createElement(i(d[4]),{captionAndTitle:this.$PostComments3(),captionIsEdited:n,className:s,code:l,commentsAreStacked:C,commentsDisabled:p,handleDeleteCommentClick:this.$PostComments1,id:v,loggedIn:E,mediaType:P,ownerId:D,postedAt:M,showIGTVCaption:$,showRemoveCommentIcons:b,variant:f}),this.state.showDeleteCommentModal&&a(d[2]).createElement(i(d[5]),{analyticsContext:t,commentId:i(d[6])(this.state.commentToDeleteId),onClose:this.$PostComments2,postId:v}))}}t.defaultProps={variant:r(d[0]).VARIANTS.flexible};var o=r(d[9]).connect(function(t,o){var n;return{showRemoveCommentIcons:r(d[7]).getPostRemoveCommentsIsVisible(t),viewerId:null===(n=r(d[8]).getViewer(t))||void 0===n?void 0:n.id}})(t);e.default=o},4456448,[4653090,12779527,3,4456449,4456464,4456466,12845085,4456467,12779901,5]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){const o=n.getBoundingClientRect().top-n.scrollTop;return t.getBoundingClientRect().top-o}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);const n=12,o=1,s=6,l=1.5,c=t=>{const{innerRef:n,isPermalinkedComment:o,onHidePermalinkReply:s,parentComment:l,parentProps:c,parentState:h,permalinkedReplyId:p,permalinkedReplyNodeRef:C,replyPagerNodeRef:u}=t,{analyticsContext:T,code:k,commentingDisabledForViewer:I,customIndentationPadding:f,customPaddingStyle:P,handleDeleteCommentClick:y,hideUserAvatar:R,id:$,isDeletingComments:b,loggedIn:L,onLikeCountClick:M,onLikeModalClose:v,ownerId:w,reducedAvatarMargin:N,showCommentOptionsInline:A}=c,{commentPermalinkAnimEnabled:E}=h;return a(d[2]).createElement(i(d[3]),{analyticsContext:T,code:k,commentingDisabledForViewer:I,customIndentationPadding:f,customPaddingStyle:P,hideUserAvatar:R,innerRef:n,isPermalinkedComment:o,loggedIn:L,onDeleteCommentClick:y,onHidePermalinkReply:s,onLikeCountClick:M,onLikeModalClose:v,parentComment:l,permalinkedReplyAnimating:E,permalinkedReplyId:p,permalinkedReplyNodeRef:C,postId:$,postOwnerId:w,reducedAvatarMargin:N,replyPagerNodeRef:u,showCommentOptionsInline:A,showRemoveIcon:b})};var h=r(d[30]).connect(function(t,n){const{id:o,ownerId:s,permalinkedCommentId:l}=n,c=r(d[22]).getThreadedCommentsLoading(t,o),h=r(d[22]).selectVisibleParentCommentsForPostId(t,o),{count:p,pagination:C}=t.threadedComments.parentByPostId.get(o,r(d[23]).EMPTY_POST_COMMENTS_STATE),u=t.pendingComments.get(o,r(d[24]).EMPTY_PENDING_COMMENT);let T=null;return c||null==l||''===l||(T=t.comments.byId.get(l)),{commentWasReply:null!=u.repliedToCommentId,commentSaveIsInFlight:u.committing,comments:h,commentsHasNextPage:r(d[25]).hasNextPage(C),commentsIsFetching:r(d[25]).isFetching(C),commentsTotalCount:null!=p?p:0,isOwnerVerified:r(d[26]).getUserById(t,s).isVerified,initialCommentsLoading:c,numTimesLoadComment:t.threadedComments.numTimesLoadComment,permalinkedComment:T}},function(t){return{addLoadCount(){t(r(d[27]).onIncreaseCommentLoadCount())},loadMore(n,o,s){r(d[28]).postUsesNativeEndpoint()?t(r(d[27]).requestNextParentCommentPageV2(n,o,s)):t(r(d[27]).requestNextParentCommentPage(n,o,s))},onClickCommentLoaded(n){const o=r(d[14]).buildMediaLink(n);t(r(d[29]).openLoginModal('content_wall',o,null,null,!0,o))},onLoggedOutIntentClickLoginModal(n,o){t(r(d[29]).openLoginModal('feature_wall',n,o,null,!0,n))}}})(class extends a(d[2]).PureComponent{constructor(...t){super(...t),this.$ThreadedComments1=a(d[2]).createRef(),this.$ThreadedComments2=a(d[2]).createRef(),this.$ThreadedComments3=a(d[2]).createRef(),this.$ThreadedComments4=[],this.state={isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!1,replyPermalinkLastHideTime:null},this.$ThreadedComments13=(t=>{const{addLoadCount:n,analyticsContext:o,code:s,hasRankedComments:l,id:c,loadMore:h,loggedIn:p,mediaType:C,numTimesLoadComment:u,onClickCommentLoaded:T,ownerId:k}=this.props;!p&&!0===i(d[4])._("4793fa4fbe26a206d0b022a2d80efcd3","9bdfdee181e67439396f43d8544f3508")&&u>=i(d[5])(i(d[4])._("4793fa4fbe26a206d0b022a2d80efcd3","4d23f1db39cc77ea98d09e869377b01b"))&&!i(d[6])._("3500c1040008f41eafda8aa9aa91af7b")?T(s):(h(c,l,s),r(d[7]).logInteractionAction({containerModule:o,eventName:'instagram_child_comments_load_more',mediaAuthorId:k,mediaId:c,mediaType:C})),n()})}$ThreadedComments5(){return this.$ThreadedComments1.current||null}$ThreadedComments6(){return this.$ThreadedComments2.current||null}$ThreadedComments7(){return this.$ThreadedComments3.current||null}$ThreadedComments8(n,o,s,l){this.setState({isAutoscrollingCommentPermalink:!0,commentPermalinkAnimEnabled:!1}),r(d[8]).measure(()=>{let c;const h=t(o,n);if(s){const o=t(s,n),l=s.getBoundingClientRect().height,p=n.getBoundingClientRect().height,C=Math.max(p-l,0);c=Math.max(h,o-C)}else c=h;r(d[8]).mutate(()=>{n.scrollTop=c;const t=()=>{this.setState({isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!0})};l?r(d[9]).onPageTimingsAvailable(()=>{t()}):t()})})}componentDidMount(){const t=this.$ThreadedComments9;if(!t)return;const n=this.$ThreadedComments5();if(n)this.$ThreadedComments8(t,n,this.$ThreadedComments6(),!0);else if(!this.props.hasRankedComments){if(r(d[10]).isDesktop())return;t.scrollTop=t.scrollHeight}}componentDidUpdate(t,n,o){const s=this.$ThreadedComments9;if(!s)return;const l=this.$ThreadedComments5();if(l){if(this.state.isAutoscrollingCommentPermalink)return;if(this.props.permalinkedCommentId!==t.permalinkedCommentId||this.props.permalinkedReplyId!==t.permalinkedReplyId||this.props.permalinkedComment!==t.permalinkedComment)return void this.$ThreadedComments8(s,l,this.$ThreadedComments6(),!1)}this.$ThreadedComments10(t,n,o,s,l)}$ThreadedComments10(t,n,o,s,l){const c=t.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,{newCommentCachedOffset:h}=o||{},p=t.id===this.props.id&&t.permalinkedCommentId===this.props.permalinkedCommentId&&t.permalinkedReplyId===this.props.permalinkedReplyId&&n.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,C=this.$ThreadedComments7();c&&!t.commentWasReply&&this.$ThreadedComments4[0]&&this.$ThreadedComments4[0].scrollIntoView({behavior:'smooth',block:'nearest',inline:'start'}),r(d[8]).measure(()=>{let n=null;!c||t.commentWasReply||this.props.hasRankedComments?null!=h?n=s.scrollHeight-h:p&&l&&C&&(n=this.$ThreadedComments11(s,l,C)):n=s.scrollHeight,r(d[8]).mutate(()=>{null!=n&&(s.scrollTop=n)})})}$ThreadedComments11(n,o,s){const l=t(s,n),c=t(o,n),h=Math.max(l-6,c);return n.scrollTop>h?h:null}getSnapshotBeforeUpdate(t,n){const o=t.comments,s=this.props.comments,l=this.$ThreadedComments9;return l&&t.id===this.props.id&&s.count()>o.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:l.scrollHeight-l.scrollTop}:null}$ThreadedComments12(){this.setState({replyPermalinkLastHideTime:(new Date).valueOf()})}render(){var t;const{analyticsContext:h,captionAndTitle:p,captionCreatedAt:C,captionIsEdited:u,className:T,code:k,comments:I,commentsDisabled:f,commentsHasNextPage:P,customPaddingStyle:y,disableScroll:R,hasRankedComments:$,hideUserAvatar:b,id:L,initialCommentsLoading:M,isOwnerVerified:v,loggedIn:w,mediaType:N,ownerId:A,permalinkedComment:E,permalinkedReplyId:x,postedAt:S,reducedAvatarMargin:O,showCommentOptionsInline:_,showIGTVCaption:F,showPagerBelowComments:H}=this.props,D=!0!==f&&Boolean(P),V=M&&0===I.size;if(!(null!=p&&''!==p||0!==I.count()||D||V))return r(d[10]).isDesktop()&&i(d[4])._("eb1fed1c57ab7ae7e6c02547ad6b42b9","67f9851700fbda40c6b265462d0c30eb")?a(d[2]).createElement("div",{className:T},a(d[2]).createElement(i(d[11]),null)):a(d[2]).createElement("div",{className:T});let B=null,U=null;V||null==f||(B=E?a(d[2]).createElement("div",{className:`ONnYN ${this.state.commentPermalinkAnimEnabled&&!x?"_4Rhts":""}`,ref:this.$ThreadedComments1},a(d[2]).createElement(c,{isPermalinkedComment:!0,onHidePermalinkReply:()=>this.$ThreadedComments12(),parentComment:E,parentProps:this.props,parentState:this.state,permalinkedReplyId:x,permalinkedReplyNodeRef:this.$ThreadedComments2,replyPagerNodeRef:this.$ThreadedComments3})):null,U=I.map((t,n)=>E&&t.id===E.id?null:a(d[2]).createElement(c,{innerRef:t=>this.$ThreadedComments4[n]=t,key:n,parentComment:t,parentProps:this.props,parentState:this.state})).filter(t=>!!t));let z=null;null!=p&&''!==p&&(z=a(d[2]).createElement(i(d[12]),{analyticsContext:h,captionCreatedAt:C,className:`PpGvg ${r(d[10]).isMobile()?"_1LqHP":""}`,commentOwnerId:A,customPaddingStyle:y,hideUserAvatar:!!b,isAuthorVerified:!!v,isCaption:!0,isEdited:!!u,isRestrictedPending:!1,key:"captionAndTitle",loggedIn:w,mediaType:N,postedAt:i(d[5])(S),postId:L,postOwnerId:A,reducedAvatarMargin:O,showCommentOptionsInline:_,showIGTVCaption:F,showRemoveIcon:!1,showRichComment:!0,text:p,variant:r(d[13]).VARIANTS.flexible}));const G=D&&this.renderLoadMoreCommentsLink(null!=B),q=r(d[14]).buildMediaCommentsLink(i(d[5])(k),r(d[10]).isMobile()),W=r(d[10]).isDesktop()&&w&&r(d[15]).showCommentInfiniteScroll(),X=$||!0===H||W;return a(d[2]).createElement("div",{className:T},a(d[2]).createElement("ul",{className:`XQXOT ${R?"m30fh":""} ${null!==B?"OK1bl":""} ${null===z?"RxcQ6":""} ${!G||X?"pXf-y":""} ${'compact'===y?"M-yqw":""}`,ref:t=>this.$ThreadedComments9=t},z,B,V?a(d[2]).createElement(i(d[16]),{direction:"row",justifyContent:"center"},a(d[2]).createElement(i(d[17]),null)):null,W&&null!=U?a(d[2]).createElement(i(d[18]),{allowSampledScrollLogging:!1,analyticsContext:h,enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:null!==(t=this.props.commentsHasNextPage)&&void 0!==t&&t,initialRenderCount:n,isFetching:this.props.commentsIsFetching,items:U,nextPageThreshold:o,onNextPage:()=>{this.$ThreadedComments13(q)},overscanCount:s,prefetchNextPageThreshold:l,renderFeedItem:({index:t})=>{var n;return null==U?null:null!==(n=U.get(t))&&void 0!==n?n:null},sizeCache:new(i(d[19]))({estimatedSize:80}),visibleCount:U.size}):a(d[2]).createElement(a(d[2]).Fragment,null,!X&&G,!r(d[20]).isNetzDGEligible()&&U,X&&G)))}renderLoadMoreCommentsLink(t){const{code:n,commentsIsFetching:o,hasRankedComments:s,loggedIn:l,onLoggedOutIntentClickLoginModal:c}=this.props,h=r(d[14]).buildMediaCommentsLink(i(d[5])(n),r(d[10]).isMobile());let p,C;return s?(p=0,C=0):t?(p=2,C=2):(p=0,C=4),a(d[2]).createElement("li",null,a(d[2]).createElement(i(d[21]),{commentsIsFetching:o,handleLoadMoreCommentsClick:this.$ThreadedComments13,loggedIn:l,marginBottom:C,marginTop:p,onLoggedOutIntentClickLoginModal:c,url:h}))}});e.default=h},4456449,[4456450,4456451,3,4456452,12779632,12845085,12779577,3866647,12779762,12779759,12779527,4456459,4456454,4653090,12779813,4653080,12845117,12845115,4456460,12845257,12779525,4456462,4456458,12779708,3670365,12779713,12779901,3866678,12779686,12779968,5]);
__d(function() {},4456450,[]);
__d(function() {},4456451,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);const t=t=>{const{childComment:n,disableTimestampNav:o,parentProps:l}=t,{analyticsContext:s,code:c,commentingDisabledForViewer:C,customPaddingStyle:h,hideUserAvatar:p,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,parentComment:w,postId:P,postOwnerId:R,reducedAvatarMargin:v,showCommentOptionsInline:b,showRemoveIcon:A}=l;return a(d[2]).createElement(i(d[3]),{analyticsContext:s,className:`lDe-V ${'compact'===h?"q9edn":""}`,code:c,commentingDisabledForViewer:C,commentOwnerId:n.userId,commentThreadId:w.id,customPaddingStyle:h,disableTimestampNav:o,hideUserAvatar:!!p,id:n.id,isAuthorVerified:n.isAuthorVerified,isRestrictedPending:n.isRestrictedPending,key:n.id,likeCount:n.likeCount,likedByViewer:n.likedByViewer,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,postedAt:n.postedAt,postId:P,postOwnerId:R,reducedAvatarMargin:v,showCommentOptionsInline:b,showRemoveIcon:A,showRichComment:!0,text:n.text,variant:r(d[4]).VARIANTS.flexible})};const n={hideReplies:r(d[15]).hideChildComments,loadChildComments:r(d[15]).requestNextChildCommentPage,loadChildCommentsV2:r(d[15]).requestNextChildCommentPageV2,showReplies:!0===i(d[16])._("919c32fd8a384e3660a325c8b197e3a9","f4a453646b021ba4e515b53e84c8950b")?r(d[15]).showChildCommentsV2:r(d[15]).showChildComments};var o=r(d[17]).connect(function(t,n){const{parentComment:o,permalinkedReplyId:l}=n,{remainingCachedShowableChildCommentIds:s,visibleChildComments:c}=r(d[12]).selectChildCommentsForParentIdSplitByVisibility(t,o.id),C=r(d[12]).getTotalChildCommentCountForParentId(t,o.id),{pagination:h}=t.threadedComments.childByParentId.get(o.id,r(d[13]).EMPTY_POST_COMMENTS_STATE);let p=null;return null!=l&&''!==l&&(p=t.comments.byId.get(l)),{childCommentsCacheCanShowMoreWithoutFetch:r(d[14]).getVisibleCount(h)<r(d[14]).getLoadedCount(h),childCommentsCanFetchMorePagination:r(d[14]).canFetchMorePagination(h),childCommentsHasNextPage:r(d[14]).hasNextPage(h),childCommentsIsFetching:r(d[14]).isFetching(h),permalinkedReply:p,remainingCachedShowableChildCommentIds:s,totalChildCommentCount:C||0,visibleChildComments:c}},n)(class extends a(d[2]).Component{constructor(...t){super(...t),this.state={hasPermalinkedReplyBeenHidden:!1},this.$CommentThread3=(t=>{const{analyticsContext:n,childCommentsCacheCanShowMoreWithoutFetch:o,childCommentsIsFetching:l,hideReplies:s,loadChildComments:c,loadChildCommentsV2:C,onHidePermalinkReply:h,parentComment:{id:p,userId:u},permalinkedReply:I,postId:k,postOwnerId:y,showReplies:w}=this.props;l||(t?(s(p),r(d[5]).logInteractionAction({eventName:'instagram_child_comments_collapse',commentAuthorId:u,commentId:p,containerModule:n,mediaAuthorId:y,mediaId:k}),null!=I&&(null!=h&&h(),this.setState({hasPermalinkedReplyBeenHidden:!0}))):o?w(p):r(d[6]).postUsesNativeEndpoint()?C(k,p):c(p))})}componentDidUpdate(t,n){t.parentComment.id===this.props.parentComment.id&&t.permalinkedReplyId===this.props.permalinkedReplyId||this.setState({hasPermalinkedReplyBeenHidden:!1})}$CommentThread1(){const{childCommentsCacheCanShowMoreWithoutFetch:t,childCommentsCanFetchMorePagination:n,childCommentsHasNextPage:o,permalinkedReply:l,remainingCachedShowableChildCommentIds:s}=this.props;return null!=l&&!0===o&&!0===t&&!0!==n&&1===s.count()&&s.get(0)===l.id}$CommentThread2(t){const{childCommentsHasNextPage:n}=this.props;return!0!==n||t&&this.$CommentThread1()}$CommentThread4(t,n){const{childCommentsIsFetching:o,customPaddingStyle:l,replyPagerNodeRef:s,totalChildCommentCount:c}=this.props,C=this.$CommentThread2(n),h=c-(t+(n?1:0));let p;return p=C&&!o?r(d[7])(4330):h<=0?r(d[7])(1770):r(d[7])(3191,{'hidden replies':h}),a(d[2]).createElement("li",{className:"_61Di1",ref:s},a(d[2]).createElement(i(d[8]),{direction:"row",marginBottom:t>0&&'compact'!==l?4:0,marginTop:n?2:0},a(d[2]).createElement(i(d[9]),{borderless:!0,onClick:()=>this.$CommentThread3(C)},a(d[2]).createElement("div",{className:"_7mCbS"}),a(d[2]).createElement("span",{className:"EizgU"},p)),o&&a(d[2]).createElement("div",{className:"RA2Jp"},a(d[2]).createElement(i(d[10]),{size:"small"}))))}render(){const{analyticsContext:n,code:o,commentingDisabledForViewer:l,customIndentationPadding:s,customPaddingStyle:c,hideUserAvatar:C,innerRef:h,isPermalinkedComment:p,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,parentComment:w,permalinkedReply:P,permalinkedReplyAnimating:R,permalinkedReplyId:v,permalinkedReplyNodeRef:b,postId:A,postOwnerId:N,reducedAvatarMargin:T,showCommentOptionsInline:x,showRemoveIcon:M,totalChildCommentCount:S,visibleChildComments:V}=this.props,{hasPermalinkedReplyBeenHidden:E}=this.state;let f=null;!P||E&&0===V.count()||(f=a(d[2]).createElement("div",{className:`IbtNy ${!0!==R||E?"":"_4Rhts"}`,ref:b},a(d[2]).createElement(t,{childComment:P,disableTimestampNav:!0,parentProps:this.props})));const F=V.map((n,o)=>f&&i(d[11])(P).id===n.id?null:a(d[2]).createElement(t,{childComment:n,key:o,parentProps:this.props})).filter(t=>null!=t),O=this.$CommentThread4(F.count(),null!=f),_=null!=s?{margin:`12px 0 0 ${s}px`,width:`calc(100% - ${s}px)`}:void 0;return a(d[2]).createElement("ul",{className:`Mr508 ${'compact'===c?"g2M1O":""}`,ref:h},a(d[2]).createElement(i(d[3]),{analyticsContext:n,code:o,commentingDisabledForViewer:l,commentOwnerId:w.userId,commentThreadId:w.id,customPaddingStyle:c,disableTimestampNav:!0===p&&null==v,hideUserAvatar:!!C,id:w.id,isAuthorVerified:w.isAuthorVerified,isPermalinkedComment:p,isRestrictedPending:w.isRestrictedPending,likeCount:w.likeCount,likedByViewer:w.likedByViewer,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,postedAt:w.postedAt,postId:A,postOwnerId:N,reducedAvatarMargin:T,showCommentOptionsInline:x,showRemoveIcon:M,showRichComment:!0,text:w.text,variant:r(d[4]).VARIANTS.flexible}),0!==S&&a(d[2]).createElement("li",null,a(d[2]).createElement("ul",{className:"TCSYW",style:_},f,O,F)))}});e.default=o},4456452,[4456450,4456453,3,4456454,4653090,3866647,12779686,12779580,12845117,12845111,12845115,12845085,4456458,12779708,12779713,3866678,12779632,5]);
__d(function() {},4456453,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=750,o=r(d[1])(905),n=r(d[1])(4257),s=r(d[1])(81),l=r(d[1])(467),c=r(d[1])(1241),p=r(d[1])(2708),h=t=>{const{commentOwnerId:o,commentOwnerUsername:n,isAuthorVerified:s,isCaption:c,isRestrictedPending:p,postOwnerIsUnpublished:h,showRichComment:C}=t.parentProps,u=p&&!t.parentState.showRestrictedContent,I=c?'h2':'h3';return u?a(d[2]).createElement(i(d[3]),{marginBottom:1},a(d[2]).createElement(i(d[4]).Body,{color:"ig-tertiary-text",weight:"semibold"},l)):c&&h?null:a(d[2]).createElement(I,{className:`_6lAjh ${!0===p?"uQNwj":""}`},a(d[2]).createElement(i(d[3]),{marginEnd:1},a(d[2]).createElement(i(d[5]),{display:"inline",triggerAnalyticsContext:"post_commenter",userId:o},a(d[2]).createElement(i(d[6]),{borderless:!0,color:"ig-secondary-button",href:r(d[7]).buildUserLink(i(d[8])(n))},i(d[8])(n)))),C&&s&&a(d[2]).createElement(i(d[3]),{marginEnd:1},a(d[2]).createElement(i(d[9]),{size:"small"})))},C=t=>{const{parentProps:o}=t,{captionCreatedAt:n,commentThreadId:s,disableTimestampNav:l,id:c,isCaption:p,isEdited:h,postShortcode:C,postedAt:u}=o;let I=a(d[2]).createElement(i(d[10]),{className:"FH9sR RhOlS",value:p&&h&&null!=n?n:u});if(C&&c){const t=s&&s!==c?r(d[7]).buildReplyPermalink(C,s,c,r(d[11]).isMobile()):r(d[7]).buildCommentPermalink(C,c,r(d[11]).isMobile()),o=!0===l?t=>t.preventDefault():void 0;I=a(d[2]).createElement(i(d[12]),{className:"gU-I7",href:t,onClick:o},I)}return I};class u extends a(d[2]).PureComponent{constructor(...o){super(...o),this.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1},this.$PostComment2=(()=>{this.setState({showCommentOptionsDialog:!0})}),this.$PostComment3=(()=>{r(d[11]).isMobile()&&this.props.showRichComment&&!this.props.isCaption&&(this.$PostComment4=setTimeout(this.$PostComment2,t))}),this.$PostComment1=(()=>{clearTimeout(this.$PostComment4)}),this.$PostComment5=(()=>{this.setState({showCommentOptionsDialog:!1})}),this.$PostComment6=(()=>{this.setState({showCommentOptionsDialog:!1}),this.props.onDeleteComment()}),this.$PostComment7=(()=>{const{id:t,onDeleteCommentClick:o}=this.props;o&&o(i(d[8])(t))}),this.$PostComment8=(t=>{const{onLikeComment:o,onUnlikeComment:n}=this.props;t?o():n()}),this.$PostComment9=(()=>{const{isRestrictedPending:t,likedByViewer:o,onLikeComment:n}=this.props;o||t||n()}),this.$PostComment10=(()=>{const{code:t,fetchCommentLikes:o,id:n,loggedIn:s,onLikeCountClick:l,onLoggedOutIntentClick:c,onLoggedOutIntentClickLoginModal:p}=this.props;if(s)l&&(o(),l(i(d[8])(n)));else{const o='post_comment_like_count';r(d[11]).isDesktop()?p(r(d[7]).buildMediaLink(i(d[8])(t)),o):c(o)}}),this.$PostComment11=(t=>{const{analyticsContext:o,commentOwnerId:n,commentThreadId:s,id:l,isRestrictedPending:c,mediaType:p,postId:h,postOwnerId:C,viewerId:u}=this.props;switch(t.state){case'entered':if(null!=l&&null!=u)return r(d[13]).logCommentImpression({commentId:l,commentAuthorId:n,commentThreadId:s,containerModule:o,mediaId:h,mediaAuthorId:C,mediaType:p}),void(c&&i(d[14]).log({action:'impression',actorIgUserid:n,commentId:l,commentThreadId:s,parentMediaId:h,step:'pending_comment'}))}}),this.$PostComment12=(()=>{const{code:t,loggedIn:o,onLoggedOutIntentClick:n,onLoggedOutIntentClickLoginModal:s,onReplyClick:l}=this.props;if(o)l();else{r(d[11]).isDesktop()?s(r(d[7]).buildMediaLink(i(d[8])(t)),"post_comment_reply"):n("post_comment_reply")}}),this.$PostComment13=(()=>{const{commentOwnerId:t,commentThreadId:o,id:n,postId:s}=this.props;i(d[14]).log({action:'click',actorIgUserid:t,commentId:n,commentThreadId:o,parentMediaId:s,step:'pending_comment_see_hidden'}),this.setState({showRestrictedContent:!0})}),this.$PostComment14=(()=>{const{commentOwnerId:t,commentThreadId:o,id:n,postId:s}=this.props;i(d[14]).log({action:'click',actorIgUserid:t,commentId:n,commentThreadId:o,parentMediaId:s,step:'pending_comment_approve'}),this.setState({showApproveCommentDialog:!0})}),this.$PostComment15=(()=>{this.setState({showApproveCommentDialog:!1})}),this.$PostComment16=(()=>{const{commentOwnerId:t,commentThreadId:o,id:n,postId:s}=this.props;i(d[14]).log({action:'click',actorIgUserid:t,commentId:n,commentThreadId:o,parentMediaId:s,step:this.state.showRestrictedContent?'pending_comment_delete':'pending_comment_delete_hidden'}),this.$PostComment7()}),this.$PostComment17=(()=>{const{code:t,id:o,likeCount:n,loggedIn:s}=this.props;if(!n)return null;const l=n.toLocaleString(),c=r(d[1])(1323,{'like count':l}),p=r(d[1])(2114,{'like count':l}),h=1===n?c:p;return n>0&&(r(d[11]).isDesktop()||!s?a(d[2]).createElement("button",{className:"FH9sR",onClick:this.$PostComment10},a(d[2]).createElement(i(d[4]),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0},h)):a(d[2]).createElement(i(d[12]),{className:"FH9sR",href:`/p/${i(d[8])(t)}/c/${i(d[8])(o)}/liked_by/`},h))})}componentWillUnmount(){this.$PostComment1()}render(){const{className:t,commentOwnerAvatar:l,commentOwnerId:u,commentOwnerUsername:I,commentThreadId:w,commentingDisabledForViewer:E,customPaddingStyle:P,hideUserAvatar:k,id:$,isCaption:O,isEdited:y,isPermalinkedComment:b,isRestrictedPending:v,likedByViewer:T,postId:_,postOwnerId:f,reducedAvatarMargin:R,showCommentOptionsInline:M,showRemoveIcon:N,showRichComment:U,translation:A,variant:D,viewerId:L}=this.props;let x=this.props.text.toString();!0===(null===A||void 0===A?void 0:A.showTranslatedText)&&null!=A.translatedText&&(x=A.translatedText);const S=!O&&L&&(L===u||f===L),z=S&&N&&!U,B=!(O||!L||z||v),F=r(d[15]).isNetzDGEligible()&&b||U&&!r(d[11]).isMobile()&&!O&&null!=L,j=D===r(d[16]).VARIANTS.feed?i(d[17]):i(d[18]),V=!!O||!B&&!S,H=v&&!this.state.showRestrictedContent,Q=v&&this.state.showRestrictedContent,q=a(d[2]).createElement("div",{className:!0===M?"FH9sR":""},a(d[2]).createElement("div",{className:`${!0!==M?"_4l6NB":""} ${!0===M?"Ttrid":""}`},a(d[2]).createElement(i(d[19]),{onClick:this.$PostComment2},a(d[2]).createElement(i(d[3]),{alignItems:"center",height:24,justifyContent:"center",width:24},a(d[2]).createElement(i(d[20]),{alt:o,color:"ig-secondary-text"})))));return a(d[2]).createElement(r(d[21]).Viewpoint,{action:this.$PostComment11,id:x.replace(' ','-')},o=>a(d[2]).createElement(r(d[22]).DoubleTappable,{onDoubleClick:this.$PostComment9,role:"button"},a(d[2]).createElement("li",{className:i(d[23])(`gElp9 ${U?"rUo9f":""} ${'compact'===P?"UPTQ4":""}`,t),onMouseDown:this.$PostComment3,onMouseUp:this.$PostComment1,onTouchEnd:this.$PostComment1,onTouchMove:this.$PostComment1,onTouchStart:this.$PostComment3,ref:o,role:"menuitem"},a(d[2]).createElement("div",{className:"P9YgZ"},a(d[2]).createElement("div",{className:`C7I1f ${V?"X7jCj":""}`},U&&!k&&a(d[2]).createElement(i(d[5]),{display:"block",triggerAnalyticsContext:"post_commenter_avatar",userId:u},a(d[2]).createElement(i(d[24]),{className:`TKzGu ${!0===R?"q0Pmt":""} ${!0===v?"uQNwj":""}`,isLink:!0,profilePictureUrl:l,size:i(d[25]).AVATAR_SIZES.small,storyEntrypoint:'post_comment',username:I})),a(d[2]).createElement("div",{className:"C4VMK"},a(d[2]).createElement(h,{parentProps:this.props,parentState:this.state}),!H&&a(d[2]).createElement("div",{className:`MOdxS ${!0===v?"uQNwj":""}`},a(d[2]).createElement(j,{display:"inline",size:"body",value:x})),U&&a(d[2]).createElement(i(d[3]),{marginBottom:1,marginTop:'compact'===P?2:4},a(d[2]).createElement(i(d[4]).Footnote,{color:"ig-secondary-text"},O&&y&&a(d[2]).createElement(a(d[2]).Fragment,null,r(d[1])(1666)," · "),a(d[2]).createElement(C,{parentProps:this.props}),O&&a(d[2]).createElement(i(d[3]),{display:"inlineBlock"},a(d[2]).createElement(i(d[26]),{postId:_})),!O&&!v&&a(d[2]).createElement(a(d[2]).Fragment,null,this.$PostComment17(),!0!==E&&a(d[2]).createElement("button",{className:"FH9sR",onClick:this.$PostComment12},a(d[2]).createElement(i(d[4]),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0},s)),$&&a(d[2]).createElement(i(d[3]),{display:"inlineBlock",marginEnd:2},a(d[2]).createElement(i(d[27]),{commentId:$})),F&&!0===M&&q),H&&a(d[2]).createElement("button",{className:"FH9sR",onClick:this.$PostComment13},a(d[2]).createElement(i(d[4]),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0},c)),Q&&a(d[2]).createElement("button",{className:"FH9sR",onClick:this.$PostComment14},a(d[2]).createElement(i(d[4]),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0},r(d[28]).APPROVE_COMMENT_CTA)),v&&a(d[2]).createElement("button",{className:"FH9sR",onClick:this.$PostComment16},a(d[2]).createElement(i(d[4]),{color:"ig-secondary-text",size:"footnote",weight:"semibold",zeroMargin:!0},p)))))),z&&a(d[2]).createElement("button",{className:"_6qK3y",onClick:this.$PostComment7,title:n},a(d[2]).createElement(i(d[4]),{color:"ig-tertiary-text",size:"footnote",weight:"semibold",zeroMargin:!0},n)),F&&!M&&q,B&&a(d[2]).createElement(i(d[29]),{className:"jdtwu",isLiked:!!T,large:!1,onChange:this.$PostComment8}))),this.state.showCommentOptionsDialog&&$&&a(d[2]).createElement(i(d[30]),{canDeleteComment:!!S,commentId:$,commentOwnerAvatar:l,commentOwnerId:u,commentOwnerUsername:I,mediaOwnerId:f,onClose:this.$PostComment5,onDelete:this.$PostComment6}),this.state.showApproveCommentDialog&&$&&a(d[2]).createElement(r(d[28]).ApproveCommentDialog,{commentId:$,commentOwnerId:u,commentOwnerUsername:I,commentThreadId:w,onClose:this.$PostComment15,postId:_})))}}u.defaultProps={showRichComment:!1};var I=r(d[37]).connect(function(t,o){const{commentOwnerId:n,postId:s,postOwnerId:l}=o,c=r(d[31]).getUserById(t,n),p=r(d[32]).getPostOrNullById(t,s);let h=o.id;return null==h&&(h=null===p||void 0===p?void 0:p.captionCommentId),{commentOwnerAvatar:i(d[8])(c.profilePictureUrl),commentOwnerId:i(d[8])(c.id),commentOwnerUsername:i(d[8])(c.username),postOwnerIsUnpublished:r(d[31]).getUserById(t,l).isUnpublished,postShortcode:p&&p.code||null,viewerId:t.users.viewerId,translation:h?t.comments.translationById.get(h):null}},function(t,o){const n={commentAuthorId:o.commentOwnerId,commentId:o.id,containerModule:o.analyticsContext,mediaAuthorId:o.postOwnerId,mediaId:o.id,mediaType:o.mediaType};return{fetchCommentLikes:()=>t(r(d[33]).requestCommentLikes(i(d[8])(o.id))),onDeleteComment:()=>t(r(d[34]).deleteComment(o.postId,o.id||'')),onLikeComment:o=>t(r(d[34]).likeComment({...n,userId:o||''})),onLoggedOutIntentClick(o){t(r(d[35]).openLoggedOutIntentDialog(o))},onLoggedOutIntentClickLoginModal(o,n,s){const l=r(d[11]).isDesktop()||r(d[15]).isNetzDGEligible()?'feature_wall':'content_wall';t(r(d[35]).openLoginModal(l,o,n,s,!0,o))},onReplyClick:n=>t(r(d[36]).changePendingComment(o.postId,`@${n||''} `,i(d[8])(o.commentThreadId),o.commentOwnerId,n)),onUnlikeComment:o=>t(r(d[34]).unlikeComment({...n,userId:o||''}))}},function(t,o,n){return{...t,...o,...n,onLikeComment:()=>o.onLikeComment(t.viewerId),onReplyClick:()=>o.onReplyClick(t.commentOwnerUsername),onUnlikeComment:()=>o.onUnlikeComment(t.viewerId)}})(u);e.default=I},4456454,[4456455,12779580,3,12845117,12845108,3866704,12845111,12779813,12845085,12845236,12845279,12779527,12845119,3866668,4456456,12779525,4653090,3670357,3670358,12845183,12845402,12780184,4653305,12845110,12845523,12780193,4653097,4653098,4456457,3866918,12583117,12779901,3866660,12583405,4653101,12779968,3670364,5]);
__d(function() {},4456455,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t={falco:!0,pigeon:!1};e.default=class{static log(t){const{action:n,actorIgUserid:o,commentId:c,commentThreadId:s,parentMediaId:l,step:_}=t;this.$IgWellbeingRestrictManageCommentFalcoEvent1(()=>({action:n,actor_ig_userid:parseInt(o),comment_id:c?parseInt(c):void 0,entrypoint:'comment',parent_comment_id:s===c?void 0:parseInt(s),parent_media_id:parseInt(l),step:_}))}static $IgWellbeingRestrictManageCommentFalcoEvent1(n){r(d[0]).FalcoLogger.log('ig_wellbeing_restrict_manage_comment',n(),{},t)}}},4456456,[12779582]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const o=r(d[0])(864),t=r(d[0])(3077),n=o=>r(d[0])(132,{username:o});const p=r(d[6]).connect(null,function(o,t){return{onApproveClick(){o(r(d[5]).approveRestrictedComment(t.commentId))}}})(class extends a(d[2]).Component{constructor(...o){super(...o),this.$_ApproveCommentDialog1=(()=>{const{commentId:o,commentOwnerId:t,commentThreadId:n,postId:p}=this.props;i(d[1]).log({action:'click',actorIgUserid:t,commentId:o,commentThreadId:n,parentMediaId:p,step:'approval_page_approve_this_comment'}),this.props.onApproveClick(),this.props.onClose()}),this.$_ApproveCommentDialog2=(()=>{const{commentId:o,commentOwnerId:t,commentThreadId:n,postId:p}=this.props;i(d[1]).log({action:'click',actorIgUserid:t,commentId:o,commentThreadId:n,parentMediaId:p,step:'approval_page_cancel'}),this.props.onClose()})}render(){const{commentOwnerUsername:p}=this.props;return a(d[2]).createElement(r(d[3]).IGCoreDialog,{body:n(p),onModalClose:this.props.onClose,title:t},a(d[2]).createElement(r(d[3]).IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$_ApproveCommentDialog1},o),a(d[2]).createElement(r(d[3]).IGCoreDialogItem,{onClick:this.$_ApproveCommentDialog2},r(d[4]).CANCEL_TEXT))}});e.APPROVE_COMMENT_CTA=o,e.ApproveCommentDialog=p},4456457,[12779580,4456456,3,12845205,12779927,4653101,5]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return!t.deleted&&!t.didReportAsSpam}Object.defineProperty(e,'__esModule',{value:!0});const n=i(d[0])(t=>t.posts.byId,t=>t.comments.byId,t=>t.threadedComments.parentByPostId,(n,o,s)=>l=>{const c=s.get(l),C=n.get(l);if(!c||!C)return r(d[1]).List();const{commentIds:u}=c,h=r(d[2]).getVisibleCount(c.pagination),I=C.hasRankedComments?0:u.count()-h;return u.map(t=>i(d[3])(o.get(t))).slice(I,I+h).filter(n=>t(n))}),o=i(d[0])(t=>t.comments.byId,t=>t.threadedComments.childByParentId,(n,o)=>s=>{const l=i(d[3])(o.get(s)),{commentIds:c,pagination:C}=l,u=c.map(t=>i(d[3])(n.get(t))),h=u.count()-r(d[2]).getVisibleCount(C);return{visibleChildComments:u.slice(h,u.count()).filter(n=>t(n)),remainingCachedShowableChildCommentIds:u.slice(0,h).filter(n=>t(n)).map(t=>t.id)}}),s=i(d[0])(t=>t.comments.byId,t=>t.threadedComments.childByParentId,(t,n)=>t=>{return i(d[3])(n.get(t)).count||0});e.selectVisibleParentCommentsForPostId=n,e.selectChildCommentsForParentIdSplitByVisibility=o,e.getTotalChildCommentCountForParentId=s,e.getThreadedCommentsLoading=((t,n)=>{var o;return!(null===(o=t.threadedComments.initialCommentsLoading)||void 0===o||!o.get(n))})},4456458,[12779694,2,12779713,12845085]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(t){const n=r(d[0])(1958),c=r(d[0])(3642);return a(d[1]).createElement(i(d[2]),{alignItems:"center",height:"100%",justifyContent:"center"},a(d[1]).createElement(i(d[2]),{marginBottom:2},a(d[1]).createElement(i(d[3]).Headline2,{weight:"semibold"},n)),a(d[1]).createElement(i(d[2]),{marginTop:2},a(d[1]).createElement(i(d[3]).Body,{weight:"light"},c)))}},4456459,[12779580,3,12845117,12845108]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=800,n=250,o=new(i(d[1]))({estimatedSize:t});class l extends a(d[2]).PureComponent{constructor(...t){super(...t),this.$GenericVirtualFeed1=a(d[2]).createRef(),this.$GenericVirtualFeed2=i(d[3])(({numScreensFromEnd:t})=>{const{enablePrefetch:n,enablePriorityFetching:o,hasNextPage:l,isFetching:s,nextPageThreshold:c,onNextPage:u,prefetchNextPageThreshold:h}=this.props;if(l&&!s){const l=i(d[4])._("a0a411f6ca275530466e783767debc13");t<=c?(l||r(d[5]).logAction_DEPRECATED('loadMoreScroll'),i(d[6]).incr('web.virtual_feed.load_more_scroll'),u(o?{priority:r(d[7]).HIGH_PRIORITY}:void 0)):n&&t<=h&&(l||r(d[5]).logAction_DEPRECATED('loadMoreScroll'),i(d[6]).incr('web.virtual_feed.load_more_scroll'),u(o?{priority:r(d[7]).LOW_PRIORITY}:void 0))}},n)}componentDidUpdate(t){const{items:n,visibleCount:o}=this.props;t.visibleCount===o&&t.items!==n&&this.$GenericVirtualFeed1.current&&this.$GenericVirtualFeed1.current.forceUpdate()}$GenericVirtualFeed3(){return this.props.hasNextPage||this.props.isFetching?a(d[2]).createElement("div",{className:"Id0Rh"},a(d[2]).createElement(i(d[8]),{position:"absolute",size:"medium"})):null}render(){const{allowSampledScrollLogging:n,analyticsContext:o,className:l,initialRenderCount:s,overscanCount:c,renderFeedItem:u,sizeCache:h,visibleCount:p}=this.props;return a(d[2]).createElement(a(d[2]).Fragment,null,a(d[2]).createElement(r(d[9]).IGVirtualListWithLogging,{allowSampledScrollLogging:n,analyticsContext:o,className:l,estimatedItemSize:t,initialRenderCount:s,itemCount:p,onScroll:this.$GenericVirtualFeed2,overscanCount:c,ref:this.$GenericVirtualFeed1,renderer:u,sizeCache:h}),this.$GenericVirtualFeed3())}}l.defaultProps={allowSampledScrollLogging:!1,initialRenderCount:1,nextPageThreshold:1,prefetchNextPageThreshold:10,sizeCache:o,overscanCount:3};var s=l;e.default=s},4456460,[4456461,12845257,3,12845287,12779577,12779623,12779605,12779886,12845115,4653168]);
__d(function() {},4456461,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0])(620);e.default=function(n){const o=t=>{const{handleLoadMoreCommentsClick:o,loggedIn:c,onLoggedOutIntentClickLoginModal:l,url:s}=n;t.preventDefault(),!c&&r(d[1]).isDesktop()?l(s,'post_comment_view_all'):o(s)};return a(d[2]).createElement(i(d[3]),{justifyContent:"center",marginBottom:n.marginBottom,marginTop:n.marginTop,minHeight:40,position:"relative"},!n.commentsIsFetching&&a(d[2]).createElement(i(d[4]),{onClick:t=>o(t)},a(d[2]).createElement(i(d[5]),{alt:t})),n.commentsIsFetching&&a(d[2]).createElement(i(d[6]),{position:"absolute",size:"medium"}))}},4456462,[12779580,12779527,3,12845117,12845183,4456463,12845115]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var n=a(d[0]).memo(function(n){return a(d[0]).createElement(i(d[1]),i(d[2])({},n,{viewBox:"0 0 24 24"}),a(d[0]).createElement("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a(d[0]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),a(d[0]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"}))});e.default=n},4456463,[3,12845147,12780010]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t={onLoggedOutIntentClick:r(d[17]).openLoggedOutIntentDialog,loadMore:r(d[18]).requestNextCommentPage};var n=r(d[19]).connect(function(t,n){const o=r(d[15]).getPreviewCommentsForPostId(t,n.id),s=r(d[16]).getNumCommentsForPostId(t,n.id);return{analyticsContext:t.navigation.pageIdentifier||'',commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:s,previewComments:o,viewportWidth:t.displayProperties.viewportWidth}},t)(class extends a(d[7]).PureComponent{constructor(...t){super(...t),this.$PreviewComments2=(t=>{const{analyticsContext:n,code:o,id:s,loadMore:l,loggedIn:c,mediaType:p,onLoggedOutIntentClick:u,ownerId:I,variant:h}=this.props,C=r(d[1]).isMobile();if(t.preventDefault(),h===r(d[2]).VARIANTS.feed||C){const t=r(d[3]).buildMediaCommentsLink(o,C);c?(r(d[4]).browserHistory.push(t),r(d[5]).logInteractionAction({containerModule:n,eventName:'instagram_organic_comment_view_all',mediaAuthorId:I,mediaId:s,mediaType:p})):u('post_comment_view_all')}else l(s,o),r(d[5]).logInteractionAction({containerModule:n,eventName:'instagram_organic_comment_view_more',mediaAuthorId:I,mediaId:s,mediaType:p})})}componentDidUpdate(t,n,o){const s=t.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,l=this.$PreviewComments1;l&&r(d[6]).measure(()=>{let n=l.scrollTop;s?n=l.scrollHeight:null!=o?n=l.scrollHeight-o:this.props.id!==t.id&&(n=0),r(d[6]).mutate(()=>{l.scrollTop=n})})}getSnapshotBeforeUpdate(t){const n=t.comments,o=this.props.comments;if(t.id===this.props.id&&o&&n&&o.count()>n.count()){const t=this.$PreviewComments1;if(t)return t.scrollHeight-t.scrollTop}return null}render(){const{analyticsContext:t,captionAndTitle:n,captionIsEdited:o,className:s,commentsAreStacked:l,commentsDisabled:c,commentsHasNextPage:p,commentsTotalCount:u,handleDeleteCommentClick:I,id:h,loggedIn:C,mediaType:v,ownerId:w,postedAt:A,previewComments:T,showIGTVCaption:y,showRemoveCommentIcons:f,variant:P}=this.props,_=!0!==c&&(!0===p||null!=T&&T.length<u);if((null==n||''===n)&&0===u&&!_)return null;const N=T;return a(d[7]).createElement("div",{className:i(d[8])(`KlCQn ${r(d[1]).isMobile()||P!==r(d[2]).VARIANTS.flexible||l?"":"G14m-"}`,s),ref:t=>this.$PreviewComments1=t},a(d[7]).createElement("ul",{className:"k59kT"},null!=n&&''!==n&&a(d[7]).createElement(i(d[9]),{analyticsContext:t,commentOwnerId:w,isCaption:!0,isEdited:!!o,isRestrictedPending:!1,key:"captionAndTitle",loggedIn:C,mediaType:v,postedAt:A,postId:h,postOwnerId:w,showIGTVCaption:y,showRemoveIcon:!1,text:n,variant:P}),_&&this.renderLoadMoreCommentsLink(),!0!==c&&N&&N.map(n=>a(d[7]).createElement(i(d[9]),{analyticsContext:t,commentOwnerId:n.userId,id:n.id,isAuthorVerified:n.isAuthorVerified,isRestrictedPending:n.isRestrictedPending,key:n.id,likedByViewer:n.likedByViewer,loggedIn:C,mediaType:v,onDeleteCommentClick:I,postedAt:n.postedAt,postId:h,postOwnerId:w,showRemoveIcon:f,text:n.text,variant:P}))))}renderLoadMoreCommentsLink(){const{comments:t,commentsIsFetching:n,commentsTotalCount:o,variant:s}=this.props,l=r(d[10])(805);let c;return c=t&&t.count()+r(d[11]).PAGE_SIZE>=o||s===r(d[2]).VARIANTS.feed||r(d[1]).isMobile()?r(d[10])(2220,{count:a(d[7]).createElement(i(d[12]),{value:o})}):l,a(d[7]).createElement("li",{className:"lnrre"},a(d[7]).createElement(i(d[13]),{borderless:!0,dangerouslySetClassName:{__className:"Z4IfV"},disabled:n,onClick:this.$PreviewComments2},c),n&&a(d[7]).createElement("div",{className:"hH5xZ"},a(d[7]).createElement(i(d[14]),{position:"static",size:"small"})))}});e.default=n},4456464,[4456465,12779527,4653090,12779813,12779956,3866647,12779762,3,12845110,4456454,12779580,12779778,12845252,12845111,12845115,4653100,3866660,12779968,4653101,5]);
__d(function() {},4456465,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({analyticsContext:o,commentId:t,onClose:c,postId:n}){const l=r(d[0]).useDispatch();return a(d[4]).createElement(r(d[5]).IGCoreDialog,{onModalClose:c},a(d[4]).createElement(r(d[5]).IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:s=>{i(d[1])._("f3cb0e417d8b73758be753a0ddc2afb7")||r(d[2]).logAction_DEPRECATED('commentDelete',{source:o}),l(r(d[3]).deleteComment(n,t)),c(s)}},r(d[6])(4203)),a(d[4]).createElement(r(d[5]).IGCoreDialogItem,{onClick:c},r(d[7]).CANCEL_TEXT))}},4456466,[5,12779577,12779623,4653101,3,12845205,12779580,12779927]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0]).createSelector(t=>t.postRemoveComments,({isVisible:t})=>t);e.getPostRemoveCommentsIsVisible=t},4456467,[9]);